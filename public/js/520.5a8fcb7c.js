"use strict";(self["webpackChunkjuanpi"]=self["webpackChunkjuanpi"]||[]).push([[520],{520:function(t,s,a){a.r(s),a.d(s,{default:function(){return d}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"contains hide-scroll"},[s("div",{staticClass:"header"},[s("router-link",{attrs:{to:"/profile"}},[s("i",{staticClass:"iconfont icon-fanhui"})]),s("span",[t._v("全部订单")])],1),s("div",{staticClass:"tab-wrapper"},[s("ul",{staticClass:"tab-content"},[s("li",{class:{checked:1===t.tab},on:{click:t.totalChange}},[s("span",{staticClass:"total-order"},[t._v("全部订单")])]),s("li",{class:{checked:2===t.tab},on:{click:t.unPayChange}},[s("span",{staticClass:"pending-payment"},[t._v("待支付")])]),s("li",{class:{checked:3===t.tab},on:{click:t.payChange}},[s("span",{staticClass:"paid"},[t._v("已支付")])])])]),s("div",{staticClass:"content"},[s("div",{directives:[{name:"show",rawName:"v-show",value:1===t.tab,expression:"tab === 1"}],staticClass:"total-order-wrapper"},[s("ul",{staticClass:"total-order-content"},t._l(t.totalOrder,(function(a,e){return s("li",{staticClass:"total-order"},[s("div",{staticClass:"item-header"},[s("div",{staticClass:"time"},[s("span",{staticClass:"title"},[t._v("下单时间：")]),s("span",{domProps:{textContent:t._s(a.orderTime.slice(0,16))}})]),1===a.pay?s("span",{staticClass:"is-close"},[t._v("已关闭")]):s("span",{staticClass:"go-order"},[t._v("去下单")])]),s("ul",{staticClass:"item-body"},t._l(t.totalOrder[e].details,(function(a){return s("li",[s("img",{attrs:{src:a.avatar,alt:""}}),s("div",{staticClass:"item-detail"},[s("div",{staticClass:"name-price"},[s("span",{domProps:{textContent:t._s(a.name)}}),s("span",{staticClass:"price",domProps:{textContent:t._s("￥"+a.price+".00")}})]),s("div",{staticClass:"brief-count"},[s("span",{staticClass:"brief"},[t._v("略")]),s("span",{staticClass:"count",domProps:{textContent:t._s("X"+a.count)}})])])])})),0),s("div",{staticClass:"bottom"},[s("button",{staticClass:"remove",on:{click:function(s){return t.removeOrder(a.orderId)}}},[t._v("删除订单")]),s("button",{staticClass:"repurchase"},[t._v("重新购买")])])])})),0)]),s("div",{directives:[{name:"show",rawName:"v-show",value:2===t.tab,expression:"tab === 2"}],staticClass:"waiting-paid-wrapper"},[s("ul",{staticClass:"total-order-content"},t._l(t.unPayOrder,(function(a,e){return s("li",{staticClass:"total-order"},[s("div",{staticClass:"item-header"},[s("div",{staticClass:"time"},[s("span",{staticClass:"title"},[t._v("下单时间：")]),s("span",{domProps:{textContent:t._s(a.orderTime.slice(0,16))}})]),1===a.pay?s("span",{staticClass:"is-close"},[t._v("已关闭")]):s("span",{staticClass:"go-order"},[t._v("去下单")])]),s("ul",{staticClass:"item-body"},t._l(t.unPayOrder[e].details,(function(a){return s("li",[s("img",{attrs:{src:a.avatar,alt:""}}),s("div",{staticClass:"item-detail"},[s("div",{staticClass:"name-price"},[s("span",{domProps:{textContent:t._s(a.name)}}),s("span",{staticClass:"price",domProps:{textContent:t._s("￥"+a.price+".00")}})]),s("div",{staticClass:"brief-count"},[s("span",{staticClass:"brief"},[t._v("略")]),s("span",{staticClass:"count",domProps:{textContent:t._s("X"+a.count)}})])])])})),0),s("div",{staticClass:"bottom"},[s("button",{staticClass:"remove",on:{click:function(s){return t.removeOrder(a.orderId)}}},[t._v("删除订单")]),s("button",{staticClass:"repurchase"},[t._v("重新购买")])])])})),0)]),s("div",{directives:[{name:"show",rawName:"v-show",value:3===t.tab,expression:"tab === 3"}],staticClass:"unpaid-wrapper"},[s("ul",{staticClass:"total-order-content"},t._l(t.payOrder,(function(a,e){return s("li",{staticClass:"total-order"},[s("div",{staticClass:"item-header"},[s("div",{staticClass:"time"},[s("span",{staticClass:"title"},[t._v("下单时间：")]),s("span",{domProps:{textContent:t._s(a.orderTime.slice(0,16))}})]),1===a.pay?s("span",{staticClass:"is-close"},[t._v("已关闭")]):s("span",{staticClass:"go-order"},[t._v("去下单")])]),s("ul",{staticClass:"item-body"},t._l(t.payOrder[e].details,(function(a){return s("li",[s("img",{attrs:{src:a.avatar,alt:""}}),s("div",{staticClass:"item-detail"},[s("div",{staticClass:"name-price"},[s("span",{domProps:{textContent:t._s(a.name)}}),s("span",{staticClass:"price",domProps:{textContent:t._s("￥"+a.price+".00")}})]),s("div",{staticClass:"brief-count"},[s("span",{staticClass:"brief"},[t._v("略")]),s("span",{staticClass:"count",domProps:{textContent:t._s("X"+a.count)}})])])])})),0),s("div",{staticClass:"bottom"},[s("button",{staticClass:"remove",on:{click:function(s){return t.removeOrder(a.orderId)}}},[t._v("删除订单")])])])})),0)])])])},i=[],r=a(5710),n={name:"TotalOrder",data(){return{totalOrder:[],unPayOrder:[],payOrder:[],tab:1}},async created(){try{2===this.getId?(this.tab=null,this.tab=2):this.tab=1,this.totalOrder=await r.RI.getAllOrder(),this.unPayOrder=await r.RI.getUnpayOrder(),this.payOrder=await r.RI.getPayOrder()}catch(t){}},methods:{async removeOrder(t){await this.$juanConfirm("确认删除订单？"),await r.RI.removeOrder(t);let s=this.totalOrder.findIndex((s=>s.orderId===t));this.totalOrder.splice(s,1),this.$juanNotice("删除成功！")},async totalChange(){this.tab=1,this.totalOrder=await r.RI.getAllOrder()},async unPayChange(){this.tab=2,this.unPayOrder=await r.RI.getUnpayOrder()},async payChange(){this.tab=3,this.payOrder=await r.RI.getPayOrder()}},computed:{getId(){let t=parseInt(this.$route.query.id);return t}}},o=n,l=a(1001),c=(0,l.Z)(o,e,i,!1,null,"2883df39",null),d=c.exports}}]);
//# sourceMappingURL=520.5a8fcb7c.js.map