"use strict";(self["webpackChunkjuanpi"]=self["webpackChunkjuanpi"]||[]).push([[890],{6890:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contains"},[e("div",{staticClass:"header"},[e("router-link",{attrs:{to:"/totalorder"}},[e("i",{staticClass:"iconfont icon-fanhui"})]),e("span",{staticClass:"pending-payment"},[t._v("待付款")]),e("span",{staticClass:"cancel-order"},[t._v("取消订单")])],1),e("div",{staticClass:"content hide-scroll"},[e("div",{staticClass:"countdown-to-payment"},[e("span",{staticClass:"pending-payment-title"},[t._v("待付款")]),e("p",[t._v("订单为你保留"),e("vueTimerCountdown",{staticClass:"countdown",staticStyle:{color:"#333"},attrs:{deadline:1800},scopedSlots:t._u([{key:"default",fn:function(s){return[t._v(" "+t._s(s.minute)+" : "),e("span",{staticClass:"countdown"},[t._v(t._s(s.second)+"秒 ")])]}}])}),t._v(",超时后将自动关闭")],1)]),e("div",{staticClass:"default-address"},[e("i",{staticClass:"navigation iconfont icon-dizhi"}),e("div",{staticClass:"address-detail"},[e("div",{staticClass:"name-phone"},[e("span",{staticClass:"name",domProps:{textContent:t._s(t.orderAddress.receiveName)}}),e("span",{staticClass:"phone",domProps:{textContent:t._s(t.orderAddress.receivePhone)}})]),e("div",{staticClass:"region-detail"},[e("span",{staticClass:"region",domProps:{textContent:t._s(t.orderAddress.receiveRegion)}}),e("span",{staticClass:"detail",domProps:{textContent:t._s(t.orderAddress.receiveDetail)}})])])]),e("div",{staticClass:"payment-method"},[e("span",{staticClass:"method-title"},[t._v("支付方式")]),e("div",{staticClass:"wechat-pay"},[t._m(0),e("i",{staticClass:"checkbox",class:{checked:t.checked},on:{click:function(e){t.checked=!t.checked}}})]),e("div",{staticClass:"zhifubao-pay"},[t._m(1),e("i",{staticClass:"checkbox",class:{checked:!t.checked},on:{click:function(e){t.checked=!t.checked}}})])]),e("div",{staticClass:"purchased-product"},[e("ul",{staticClass:"product-list"},t._l(t.orderProduct,(function(s){return e("li",{key:s.id},[t._m(2,!0),e("div",{staticClass:"product-detail"},[e("img",{staticClass:"avatar",attrs:{src:s.avatar,alt:""}}),e("div",{staticClass:"item-detail"},[e("div",{staticClass:"name-price"},[e("span",{staticClass:"product-name",domProps:{textContent:t._s(s.name)}}),e("span",{staticClass:"product-price",domProps:{textContent:t._s("￥"+s.price+".00")}})]),e("div",{staticClass:"brief-count"},[e("span",{staticClass:"product-brief",domProps:{textContent:t._s(s.brief)}}),e("span",{staticClass:"product-count",domProps:{textContent:t._s("X"+s.count)}})])])])])})),0)]),e("div",{staticClass:"various-fees"},[e("ul",{staticClass:"fee-list"},[e("li",[e("span",[t._v("商品总额")]),e("span",[t._v("￥"+t._s(t.fullAmount)+".00")])]),t._m(3),t._m(4),t._m(5),e("li",[e("span",[t._v("总金额")]),e("span",{staticStyle:{color:"#ff464e"}},[t._v("￥"+t._s(t.fullAmount)+".00")])])])]),e("div",{staticClass:"order-time"},[t._v(" 暂无更多 ")])]),e("div",{staticClass:"footer"},[e("div",{staticClass:"payment-amount"},[e("p",[t._v("待付总金额 "),e("span",[t._v("￥"+t._s(t.fullAmount)+".00")]),t._v("(已省￥00.00)")])]),e("button",{on:{click:t.toPay}},[t._v("去付款")])])])},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"wechat-detail"},[e("i",{staticClass:"iconfont icon-weixin"}),e("span",{staticClass:"wechat"},[t._v("微信支付")]),e("span",{staticClass:"remark"},[t._v("(仅支持微信6.0.2及以上版本) ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"zhifubao-detail"},[e("i",{staticClass:"iconfont icon-zhifubaozhifu"}),e("span",{staticClass:"wechat"},[t._v("支付宝支付")]),e("span",{staticClass:"remark"},[t._v("推荐")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"shop-name-wrapper"},[e("i",{staticClass:"iconfont icon-dianpu"}),e("span",{staticClass:"shop-name"},[t._v("tiiek女装官方旗舰店")]),e("div",{staticClass:"customer-service-wrapper"},[e("i",{staticClass:"iconfont icon-kefu"}),e("span",{staticClass:"customer-service"},[t._v("客服")])])])},function(){var t=this,e=t._self._c;return e("li",[e("span",[t._v("合计运费")]),e("span",[t._v("包邮")])])},function(){var t=this,e=t._self._c;return e("li",[e("span",[t._v("活动优惠")]),e("span",[t._v("-￥111.20")])])},function(){var t=this,e=t._self._c;return e("li",[e("span",[t._v("优惠券抵扣")]),e("span",[t._v("-￥0.00")])])}],i=function(t,e){return t<10&&e?"0"+t:t.toString()},o=function(t,e){var s;"function"==typeof t&&(s=setTimeout((function n(){s=setTimeout(n,e),t()}),e)),this.stop=function(){clearTimeout(s)}},r=function(t,e,s,n,a,i,o,r,c,d){"boolean"!=typeof o&&(c=r,r=o,o=!1);var l,u="function"==typeof s?s.options:s;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,a&&(u.functional=!0)),n&&(u._scopeId=n),i?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},u._ssrRegister=l):e&&(l=o?function(){e.call(this,d(this.$root.$options.shadowRoot))}:function(t){e.call(this,r(t))}),l)if(u.functional){var p=u.render;u.render=function(t,e){return l.call(e),p(t,e)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,l):[l]}return s};const c={props:{deadline:{type:Number,required:!0},completeZero:{type:Boolean,default:!0},leftSecond:{type:Number,default:0},ignoreDay:{type:Boolean,default:!0}},data:function(){return{day:0,hour:0,minute:0,second:0,setIntervalInstance:Object.freeze({stop:function(){}})}},computed:{deadlineTimestamp:function(){return Date.now()+1e3*this.deadline}},watch:{deadline:{handler:function(t){var e=this;this.render(),this.getRestTime(t)>this.leftSecond?(this.setIntervalInstance.stop(),this.setIntervalInstance=new o((function(){e.render(),e.getRestTime()<=e.leftSecond&&(e.setIntervalInstance.stop(),e.$nextTick((function(){e.$emit("done")})))}),1e3)):this.$nextTick((function(){e.$emit("done")}))},immediate:!0}},beforeDestroy:function(){this.setIntervalInstance.stop()},methods:{render:function(){var t=this,e=this.getRestTime();this.ignoreDay?this.hour=i(Math.floor(e/3600),this.completeZero):(this.day=i(Math.floor(e/86400),this.completeZero),this.hour=i(Math.floor(e/3600%24),this.completeZero)),this.minute=i(Math.floor(e/60%60),this.completeZero),this.second=i(e%60,this.completeZero),this.$nextTick((function(){t.$emit("update",{day:t.day,hour:t.hour,minute:t.minute,second:t.second,restSecond:e})}))},getRestTime:function(){return Math.max(Math.round((this.deadlineTimestamp-Date.now())/1e3),0)}}};var d=function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",[t._t("default",[t.ignoreDay?t._e():[t._v(t._s(t.day)+":")],t._v(t._s(t.hour)+":"+t._s(t.minute)+":"+t._s(t.second)+"\n  ")],{day:t.day,hour:t.hour,minute:t.minute,second:t.second})],2)};d._withStripped=!0;var l=r({render:d,staticRenderFns:[]},void 0,c,void 0,!1,void 0,!1,void 0,void 0,void 0);l.install=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.component(e.component||"timer-countdown",l)};var u=l,p=s(5710),h={name:"Order",components:{vueTimerCountdown:u},data(){return{orderAddress:[],orderProduct:[],checked:!0,allOrder:[]}},methods:{async toPay(){await p.RI.payOrder(this.allOrder[this.allOrder.length-1].orderId),await this.$juanConfirm("支付成功！"),this.$router.replace("/totalorder")}},computed:{fullAmount(){let t=0;return this.orderProduct.forEach((e=>{t+=e.price*e.count})),t}},async mounted(){this.allOrder=await p.RI.getAllOrder(),console.log(this.allOrder[this.allOrder.length-1].orderId);const t=JSON.parse(this.$route.query.orderList);this.orderAddress=t.defaultAddress,this.orderProduct=t.buyList}},f=h,v=s(1001),_=(0,v.Z)(f,n,a,!1,null,"2f126bc6",null),m=_.exports}}]);
//# sourceMappingURL=890.f81b9516.js.map